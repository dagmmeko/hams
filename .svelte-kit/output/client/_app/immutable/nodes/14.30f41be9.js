import{s as Wa,q as se,e as l,a as p,c as n,b as h,l as L,g as m,f as i,p as r,u as w,r as x,v as Xa,i as Fe,h as e,w as Ua,x as Vt,y as B,z as Ya,A as Aa,B as za,k as La,t as Re,d as Ve,j as ot,H as Ma,I as Za,C as $a,J as qa}from"../chunks/scheduler.be341df6.js";import{S as el,i as tl,c as Ha,a as Ja,m as Ga,t as st,b as al,d as jt,e as Ka,g as ll}from"../chunks/index.d2fb6592.js";import{e as Ft}from"../chunks/each.f509b82d.js";import{g as oe}from"../chunks/spread.8a54911c.js";import{s as nl}from"../chunks/index.655df6de.js";import{g as rl}from"../chunks/navigation.e609b1a8.js";import{t as sl}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.34936dee.js";import{F as ol}from"../chunks/file-upload.svg.a1922bcf.js";import{F as ul}from"../chunks/file-up.svg.99008099.js";import{d as Oa}from"../chunks/dayjs.min.c931d499.js";function Ba(a,u,s){const I=a.slice();return I[35]=u[s],I}function Ra(a,u,s){const I=a.slice();return I[38]=u[s],I}function Va(a){let u,s=a[38].roomNumber+"",I,o,c;return{c(){u=l("option"),I=Re(s),o=p(),this.h()},l(_){u=n(_,"OPTION",{});var v=h(u);I=Ve(v,s),o=m(v),v.forEach(i),this.h()},h(){u.__value=c=a[38].id,w(u,u.__value)},m(_,v){Fe(_,u,v),e(u,I),e(u,o)},p(_,v){v[0]&1&&s!==(s=_[38].roomNumber+"")&&ot(I,s),v[0]&1&&c!==(c=_[38].id)&&(u.__value=c,w(u,u.__value))},d(_){_&&i(u)}}}function Fa(a){var O,tt,pe;let u,s,I,o,c=((O=a[0].rentalUnits.find(a[13]))==null?void 0:O.maximumTenants)+"",_,v,q,b,T,P,y=((tt=a[0].rentalUnits.find(a[14]))==null?void 0:tt.minimumRentalDate)+"",Q,W,g,k,X,A,S,de="Request Price change",Y,Z,N="If you change the price, it will notify the right personnel for approval.",ae,R,ne,re,$="Old Price",Ne,V,te=((pe=a[0].rentalUnits.find(a[16]))==null?void 0:pe.price)+"",ye,we,j,z,le,ue,E=[{class:"w-full border-[1px] border-black/60 rounded-md p-2"},{name:"newPrice"},{type:"number"},{placeholder:"New Price"},a[5].newPrice],M={};for(let C=0;C<E.length;C+=1)M=se(M,E[C]);return{c(){u=l("div"),s=l("p"),I=Re("Maximum Number of Tenants "),o=l("span"),_=Re(c),v=p(),q=l("div"),b=l("p"),T=Re("Minimum Days of Rental "),P=l("span"),Q=Re(y),W=p(),g=l("div"),k=l("label"),X=l("input"),A=p(),S=l("span"),S.textContent=de,Y=p(),Z=l("p"),Z.textContent=N,ae=p(),R=l("label"),ne=l("p"),re=l("span"),re.textContent=$,Ne=p(),V=l("span"),ye=Re(te),we=Re(" Birr"),j=p(),z=l("input"),this.h()},l(C){u=n(C,"DIV",{class:!0});var F=h(u);s=n(F,"P",{class:!0});var be=h(s);I=Ve(be,"Maximum Number of Tenants "),o=n(be,"SPAN",{class:!0});var H=h(o);_=Ve(H,c),H.forEach(i),be.forEach(i),F.forEach(i),v=m(C),q=n(C,"DIV",{class:!0});var xe=h(q);b=n(xe,"P",{class:!0});var ie=h(b);T=Ve(ie,"Minimum Days of Rental "),P=n(ie,"SPAN",{class:!0});var ve=h(P);Q=Ve(ve,y),ve.forEach(i),ie.forEach(i),xe.forEach(i),W=m(C),g=n(C,"DIV",{class:!0});var Pe=h(g);k=n(Pe,"LABEL",{class:!0});var Ie=h(k);X=n(Ie,"INPUT",{type:!0,name:!0,class:!0}),A=m(Ie),S=n(Ie,"SPAN",{class:!0,"data-svelte-h":!0}),L(S)!=="svelte-18w7xat"&&(S.textContent=de),Ie.forEach(i),Y=m(Pe),Z=n(Pe,"P",{class:!0,"data-svelte-h":!0}),L(Z)!=="svelte-5zsj47"&&(Z.textContent=N),ae=m(Pe),R=n(Pe,"LABEL",{class:!0});var J=h(R);ne=n(J,"P",{class:!0});var je=h(ne);re=n(je,"SPAN",{class:!0,"data-svelte-h":!0}),L(re)!=="svelte-58mwkg"&&(re.textContent=$),Ne=m(je),V=n(je,"SPAN",{class:!0});var ze=h(V);ye=Ve(ze,te),we=Ve(ze," Birr"),ze.forEach(i),je.forEach(i),j=m(J),z=n(J,"INPUT",{class:!0,name:!0,type:!0,placeholder:!0}),J.forEach(i),Pe.forEach(i),this.h()},h(){r(o,"class","font-normal"),r(s,"class","font-semibold"),r(u,"class","w-[420px]"),r(P,"class","font-normal"),r(b,"class","font-semibold"),r(q,"class","w-[420px]"),r(X,"type","checkbox"),r(X,"name","priceChange"),r(X,"class","h-5 w-5"),r(S,"class","text-primary font-medium text-lg"),r(k,"class","flex items-center gap-2"),r(Z,"class","text-xs black/50"),r(re,"class","text-primary font-medium"),r(V,"class","font-normal text-sm"),r(ne,"class","grid"),x(z,M),r(R,"class","grid gap-2 mt-4"),r(g,"class","bg-slate-100 p-3 w-[420px]")},m(C,F){Fe(C,u,F),e(u,s),e(s,I),e(s,o),e(o,_),Fe(C,v,F),Fe(C,q,F),e(q,b),e(b,T),e(b,P),e(P,Q),Fe(C,W,F),Fe(C,g,F),e(g,k),e(k,X),X.checked=a[6].priceChange,e(k,A),e(k,S),e(g,Y),e(g,Z),e(g,ae),e(g,R),e(R,ne),e(ne,re),e(ne,Ne),e(ne,V),e(V,ye),e(V,we),e(R,j),e(R,z),z.autofocus&&z.focus(),w(z,a[6].newPrice),le||(ue=[B(X,"change",a[15]),B(z,"input",a[17])],le=!0)},p(C,F){var be,H,xe;F[0]&9&&c!==(c=((be=C[0].rentalUnits.find(C[13]))==null?void 0:be.maximumTenants)+"")&&ot(_,c),F[0]&9&&y!==(y=((H=C[0].rentalUnits.find(C[14]))==null?void 0:H.minimumRentalDate)+"")&&ot(Q,y),F[0]&65&&(X.checked=C[6].priceChange),F[0]&9&&te!==(te=((xe=C[0].rentalUnits.find(C[16]))==null?void 0:xe.price)+"")&&ot(ye,te),x(z,M=oe(E,[{class:"w-full border-[1px] border-black/60 rounded-md p-2"},{name:"newPrice"},{type:"number"},{placeholder:"New Price"},F[0]&32&&C[5].newPrice])),F[0]&65&&Ma(z.value)!==C[6].newPrice&&w(z,C[6].newPrice)},d(C){C&&(i(u),i(v),i(q),i(W),i(g)),le=!1,za(ue)}}}function ja(a){let u,s,I,o,c,_,v,q,b=a[35]+"",T,P,y,Q="x",W,g,k;_=new ol({props:{class:"h-6 w-6 flex-shrink-0 ml-2 text-black"}});function X(){return a[34](a[35])}return{c(){u=l("div"),s=l("div"),I=p(),o=l("div"),c=l("div"),Ha(_.$$.fragment),v=p(),q=l("p"),T=Re(b),P=p(),y=l("button"),y.textContent=Q,this.h()},l(A){u=n(A,"DIV",{class:!0});var S=h(u);s=n(S,"DIV",{class:!0}),h(s).forEach(i),I=m(S),o=n(S,"DIV",{class:!0});var de=h(o);c=n(de,"DIV",{class:!0});var Y=h(c);Ja(_.$$.fragment,Y),v=m(Y),q=n(Y,"P",{class:!0});var Z=h(q);T=Ve(Z,b),Z.forEach(i),P=m(Y),y=n(Y,"BUTTON",{"data-svelte-h":!0}),L(y)!=="svelte-cx397v"&&(y.textContent=Q),Y.forEach(i),de.forEach(i),S.forEach(i),this.h()},h(){r(s,"class","relative z-10 w-32 h-36"),r(q,"class","text-sm ml-2 py-2"),r(c,"class","flex flex-col gap-2 justify-center items-center h-full"),r(o,"class","absolute top-0 w-full h-full left-0 z-30"),r(u,"class","relative border-[1px] max-w-[180px] border-primary border-dashed rounded-lg gap-2 items-center justify-center")},m(A,S){Fe(A,u,S),e(u,s),e(u,I),e(u,o),e(o,c),Ga(_,c,null),e(c,v),e(c,q),e(q,T),e(c,P),e(c,y),W=!0,g||(k=B(y,"click",Za(X)),g=!0)},p(A,S){a=A,(!W||S[0]&16)&&b!==(b=a[35]+"")&&ot(T,b)},i(A){W||(st(_.$$.fragment,A),W=!0)},o(A){jt(_.$$.fragment,A),W=!1},d(A){A&&i(u),Ka(_),g=!1,k()}}}function il(a){var Ia;let u,s,I="Tenants / New Tenants",o,c,_,v='<p class="text-2xl font-medium">New Tenant</p> <p class="text-sm py-2">Register new Tenant here. Click save when you&#39;re done.</p>',q,b,T,P,y,Q="Unit Type",W,g,k,X="Pick a Type ",A,S,de,Y,Z,N,ae,R,ne="Full Name",re,$,Ne,V,te,ye="Phone Number",we,j,z,le,ue,E="Email",M,O,tt,pe,C,F="Purpose of Visit",be,H,xe,ie,ve,Pe="Contract Start Date",Ie,J,je,ze,De,Me,Ca="Contract End Date",zt,ce,ut,Mt,Te,He,Ea="Duration of Stay In Country",Ht,me,Jt,Ue,Je,Na="Emergency Contact Name",Gt,fe,Kt,Ae,Ge,ya="Emergency Contact Email",Qt,he,Wt,Le,Ke,wa="Emergency Contact Phone Number",Xt,ge,Yt,qe,Qe,xa="Tenant Internal Score",Zt,_e,$t,it,ea,We,ke,ta,Se,ct,Oe,nt,aa,at,Be,Xe,la,Ye,Pa="Upload File",na,dt,ra,Ze,ka="Create Tenant",rt,sa,Sa,lt=Ft(a[0].rentalUnits),G=[];for(let t=0;t<lt.length;t+=1)G[t]=Va(Ra(a,lt,t));let oa=[{required:!0},{name:"rentalUnitsId"},a[5].rentalUnitsId,{class:"mt-2 w-[420px] border-[1px] border-black/60 rounded-md p-2"}],Ce={};for(let t=0;t<oa.length;t+=1)Ce=se(Ce,oa[t]);let ee=a[3]&&Fa(a),ua=[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"fullName"},a[5].fullName],pt={};for(let t=0;t<ua.length;t+=1)pt=se(pt,ua[t]);let ia=[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"phoneNumber"},a[5].phoneNumber],mt={};for(let t=0;t<ia.length;t+=1)mt=se(mt,ia[t]);let ca=[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"email"},a[5].email],ft={};for(let t=0;t<ca.length;t+=1)ft=se(ft,ca[t]);let da=[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"purposeOfRent"},a[5].purposeOfRent],ht={};for(let t=0;t<da.length;t+=1)ht=se(ht,da[t]);let pa=[{type:"date"},{name:"contractStartDate"},{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2 mt-2"},a[5].contractStartDate,{min:je=new Date().toISOString().substr(0,10)}],_t={};for(let t=0;t<pa.length;t+=1)_t=se(_t,pa[t]);let ma=[{type:"date"},{name:"contractEndDate"},{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2 mt-2"},a[5].contractEndDate,{min:ut=a[6].contractStartDate?Oa(new Date(a[6].contractStartDate)).add(((Ia=a[3])==null?void 0:Ia.minimumRentalDate)??0,"D").toISOString().substr(0,10):void 0}],bt={};for(let t=0;t<ma.length;t+=1)bt=se(bt,ma[t]);let fa=[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"price"},a[5].durationOfStayInCountry],vt={};for(let t=0;t<fa.length;t+=1)vt=se(vt,fa[t]);let ha=[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"emergencyContactName"},a[5].emergencyContactName],gt={};for(let t=0;t<ha.length;t+=1)gt=se(gt,ha[t]);let _a=[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{type:"email"},{name:"emergencyContactEmail"},a[5].emergencyContactEmail],Ct={};for(let t=0;t<_a.length;t+=1)Ct=se(Ct,_a[t]);let ba=[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{type:"tel"},{name:"emergencyContactPhoneNumber"},a[5].emergencyContactPhoneNumber],Et={};for(let t=0;t<ba.length;t+=1)Et=se(Et,ba[t]);let va=[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"tenantScore"},a[5].tenantScore],Nt={};for(let t=0;t<va.length;t+=1)Nt=se(Nt,va[t]);let $e=Ft(a[4]),D=[];for(let t=0;t<$e.length;t+=1)D[t]=ja(Ba(a,$e,t));const Qa=t=>jt(D[t],1,1,()=>{D[t]=null});return Xe=new ul({props:{class:"text-primary w-7 h-7"}}),{c(){u=l("div"),s=l("p"),s.textContent=I,o=p(),c=l("div"),_=l("div"),_.innerHTML=v,q=p(),b=l("form"),T=l("div"),P=l("label"),y=l("span"),y.textContent=Q,W=p(),g=l("select"),k=l("option"),k.textContent=X;for(let t=0;t<G.length;t+=1)G[t].c();A=p(),S=l("div"),ee&&ee.c(),de=p(),Y=l("hr"),Z=p(),N=l("div"),ae=l("label"),R=l("span"),R.textContent=ne,re=p(),$=l("input"),Ne=p(),V=l("label"),te=l("span"),te.textContent=ye,we=p(),j=l("input"),z=p(),le=l("label"),ue=l("span"),ue.textContent=E,M=p(),O=l("input"),tt=p(),pe=l("label"),C=l("span"),C.textContent=F,be=p(),H=l("input"),xe=p(),ie=l("label"),ve=l("span"),ve.textContent=Pe,Ie=p(),J=l("input"),ze=p(),De=l("label"),Me=l("span"),Me.textContent=Ca,zt=p(),ce=l("input"),Mt=p(),Te=l("label"),He=l("span"),He.textContent=Ea,Ht=p(),me=l("input"),Jt=p(),Ue=l("label"),Je=l("span"),Je.textContent=Na,Gt=p(),fe=l("input"),Kt=p(),Ae=l("label"),Ge=l("span"),Ge.textContent=ya,Qt=p(),he=l("input"),Wt=p(),Le=l("label"),Ke=l("span"),Ke.textContent=wa,Xt=p(),ge=l("input"),Yt=p(),qe=l("label"),Qe=l("span"),Qe.textContent=xa,Zt=p(),_e=l("input"),$t=p(),it=l("hr"),ea=p(),We=l("label"),ke=l("input"),ta=p(),Se=l("div");for(let t=0;t<D.length;t+=1)D[t].c();ct=p(),Oe=l("div"),nt=l("div"),aa=p(),at=l("div"),Be=l("div"),Ha(Xe.$$.fragment),la=p(),Ye=l("span"),Ye.textContent=Pa,na=p(),dt=l("hr"),ra=p(),Ze=l("button"),Ze.textContent=ka,this.h()},l(t){u=n(t,"DIV",{class:!0});var d=h(u);s=n(d,"P",{class:!0,"data-svelte-h":!0}),L(s)!=="svelte-z76fqi"&&(s.textContent=I),o=m(d),c=n(d,"DIV",{class:!0});var K=h(c);_=n(K,"DIV",{class:!0,"data-svelte-h":!0}),L(_)!=="svelte-slh5b7"&&(_.innerHTML=v),q=m(K),b=n(K,"FORM",{method:!0,action:!0,class:!0});var f=h(b);T=n(f,"DIV",{class:!0});var Ee=h(T);P=n(Ee,"LABEL",{class:!0});var yt=h(P);y=n(yt,"SPAN",{class:!0,"data-svelte-h":!0}),L(y)!=="svelte-vb6eem"&&(y.textContent=Q),W=m(yt),g=n(yt,"SELECT",{name:!0,class:!0});var ga=h(g);k=n(ga,"OPTION",{"data-svelte-h":!0}),L(k)!=="svelte-1aj00tp"&&(k.textContent=X);for(let et=0;et<G.length;et+=1)G[et].l(ga);ga.forEach(i),yt.forEach(i),A=m(Ee),S=n(Ee,"DIV",{});var Da=h(S);ee&&ee.l(Da),Da.forEach(i),Ee.forEach(i),de=m(f),Y=n(f,"HR",{}),Z=m(f),N=n(f,"DIV",{class:!0});var U=h(N);ae=n(U,"LABEL",{class:!0});var wt=h(ae);R=n(wt,"SPAN",{class:!0,"data-svelte-h":!0}),L(R)!=="svelte-1ooxtwg"&&(R.textContent=ne),re=m(wt),$=n(wt,"INPUT",{class:!0,name:!0}),wt.forEach(i),Ne=m(U),V=n(U,"LABEL",{class:!0});var xt=h(V);te=n(xt,"SPAN",{class:!0,"data-svelte-h":!0}),L(te)!=="svelte-1wyfy8p"&&(te.textContent=ye),we=m(xt),j=n(xt,"INPUT",{class:!0,name:!0}),xt.forEach(i),z=m(U),le=n(U,"LABEL",{class:!0});var Pt=h(le);ue=n(Pt,"SPAN",{class:!0,"data-svelte-h":!0}),L(ue)!=="svelte-1qk1yd0"&&(ue.textContent=E),M=m(Pt),O=n(Pt,"INPUT",{class:!0,name:!0}),Pt.forEach(i),tt=m(U),pe=n(U,"LABEL",{class:!0});var kt=h(pe);C=n(kt,"SPAN",{class:!0,"data-svelte-h":!0}),L(C)!=="svelte-ybtie0"&&(C.textContent=F),be=m(kt),H=n(kt,"INPUT",{class:!0,name:!0}),kt.forEach(i),xe=m(U),ie=n(U,"LABEL",{class:!0});var St=h(ie);ve=n(St,"SPAN",{class:!0,"data-svelte-h":!0}),L(ve)!=="svelte-d3vdci"&&(ve.textContent=Pe),Ie=m(St),J=n(St,"INPUT",{type:!0,name:!0,class:!0,min:!0}),St.forEach(i),ze=m(U),De=n(U,"LABEL",{class:!0});var It=h(De);Me=n(It,"SPAN",{class:!0,"data-svelte-h":!0}),L(Me)!=="svelte-bmv323"&&(Me.textContent=Ca),zt=m(It),ce=n(It,"INPUT",{type:!0,name:!0,class:!0,min:!0}),It.forEach(i),Mt=m(U),Te=n(U,"LABEL",{class:!0});var Dt=h(Te);He=n(Dt,"SPAN",{class:!0,"data-svelte-h":!0}),L(He)!=="svelte-1376xtx"&&(He.textContent=Ea),Ht=m(Dt),me=n(Dt,"INPUT",{class:!0,name:!0}),Dt.forEach(i),Jt=m(U),Ue=n(U,"LABEL",{class:!0});var Tt=h(Ue);Je=n(Tt,"SPAN",{class:!0,"data-svelte-h":!0}),L(Je)!=="svelte-1lb1t08"&&(Je.textContent=Na),Gt=m(Tt),fe=n(Tt,"INPUT",{class:!0,name:!0}),Tt.forEach(i),Kt=m(U),Ae=n(U,"LABEL",{class:!0});var Ut=h(Ae);Ge=n(Ut,"SPAN",{class:!0,"data-svelte-h":!0}),L(Ge)!=="svelte-1chi0gj"&&(Ge.textContent=ya),Qt=m(Ut),he=n(Ut,"INPUT",{class:!0,type:!0,name:!0}),Ut.forEach(i),Wt=m(U),Le=n(U,"LABEL",{class:!0});var At=h(Le);Ke=n(At,"SPAN",{class:!0,"data-svelte-h":!0}),L(Ke)!=="svelte-z3v5ey"&&(Ke.textContent=wa),Xt=m(At),ge=n(At,"INPUT",{class:!0,type:!0,name:!0}),At.forEach(i),Yt=m(U),qe=n(U,"LABEL",{class:!0});var Lt=h(qe);Qe=n(Lt,"SPAN",{class:!0,"data-svelte-h":!0}),L(Qe)!=="svelte-1357btt"&&(Qe.textContent=xa),Zt=m(Lt),_e=n(Lt,"INPUT",{class:!0,name:!0}),Lt.forEach(i),U.forEach(i),$t=m(f),it=n(f,"HR",{class:!0}),ea=m(f),We=n(f,"LABEL",{});var qt=h(We);ke=n(qt,"INPUT",{class:!0,type:!0,name:!0,accept:!0}),ta=m(qt),Se=n(qt,"DIV",{class:!0});var Ot=h(Se);for(let et=0;et<D.length;et+=1)D[et].l(Ot);ct=m(Ot),Oe=n(Ot,"DIV",{class:!0});var Bt=h(Oe);nt=n(Bt,"DIV",{class:!0}),h(nt).forEach(i),aa=m(Bt),at=n(Bt,"DIV",{class:!0});var Ta=h(at);Be=n(Ta,"DIV",{class:!0});var Rt=h(Be);Ja(Xe.$$.fragment,Rt),la=m(Rt),Ye=n(Rt,"SPAN",{class:!0,"data-svelte-h":!0}),L(Ye)!=="svelte-159olw1"&&(Ye.textContent=Pa),Rt.forEach(i),Ta.forEach(i),Bt.forEach(i),Ot.forEach(i),qt.forEach(i),na=m(f),dt=n(f,"HR",{class:!0}),ra=m(f),Ze=n(f,"BUTTON",{class:!0,"data-svelte-h":!0}),L(Ze)!=="svelte-7adutv"&&(Ze.textContent=ka),f.forEach(i),K.forEach(i),d.forEach(i),this.h()},h(){r(s,"class","text-xs text-black/50"),r(_,"class",""),r(y,"class","text-primary font-medium"),k.selected=!0,k.disabled=!0,k.__value=" Pick a Type ",w(k,k.__value),x(g,Ce),a[6].rentalUnitsId===void 0&&Xa(()=>a[12].call(g)),r(P,"class","grid gap-2 h-fit"),r(T,"class","flex flex-wrap gap-x-20 my-6"),r(R,"class","text-primary font-medium"),x($,pt),r(ae,"class","grid gap-2"),r(te,"class","text-primary font-medium"),x(j,mt),r(V,"class","grid gap-2"),r(ue,"class","text-primary font-medium"),x(O,ft),r(le,"class","grid gap-2"),r(C,"class","text-primary font-medium"),x(H,ht),r(pe,"class","grid gap-2"),r(ve,"class","text-primary font-medium"),x(J,_t),r(ie,"class","grid gap-2"),r(Me,"class","text-primary font-medium"),x(ce,bt),r(De,"class","grid gap-2"),r(He,"class","text-primary font-medium"),x(me,vt),r(Te,"class","grid gap-2"),r(Je,"class","text-primary font-medium"),x(fe,gt),r(Ue,"class","grid gap-2"),r(Ge,"class","text-primary font-medium"),x(he,Ct),r(Ae,"class","grid gap-2"),r(Ke,"class","text-primary font-medium"),x(ge,Et),r(Le,"class","grid gap-2"),r(Qe,"class","text-primary font-medium"),x(_e,Nt),r(qe,"class","grid gap-2"),r(N,"class","flex flex-wrap gap-x-20 my-6 gap-y-6"),r(it,"class","my-4"),r(ke,"class","hidden"),r(ke,"type","file"),r(ke,"name","tenantFile"),r(ke,"accept","image/*"),ke.multiple=!0,r(nt,"class","relative z-10 w-32 h-36"),r(Ye,"class","text-xs"),r(Be,"class","flex flex-col gap-2 justify-center items-center h-full"),r(at,"class","absolute top-0 w-full h-full left-0 z-30"),r(Oe,"class","relative border-[1px] border-primary border-dashed rounded-lg flex-1 flex-shrink-0 max-w-[180px] max-h-96 gap-2 items-center justify-center"),r(Se,"class","flex-1 flex-shrink-0 grid grid-cols-4 items-start gap-2"),r(dt,"class","my-6"),r(Ze,"class","bg-primary text-white rounded-md py-2 px-6 w-[420px] mt-6"),r(b,"method","post"),r(b,"action","?/addTenant"),r(b,"class","mt-6"),r(c,"class","bg-white p-6 mt-6 rounded-md shadow-sm border-[1px] border-black/20"),r(u,"class","mt-6 mx-10")},m(t,d){Fe(t,u,d),e(u,s),e(u,o),e(u,c),e(c,_),e(c,q),e(c,b),e(b,T),e(T,P),e(P,y),e(P,W),e(P,g),e(g,k);for(let K=0;K<G.length;K+=1)G[K]&&G[K].m(g,null);"value"in Ce&&(Ce.multiple?Ua:Vt)(g,Ce.value),g.autofocus&&g.focus(),Vt(g,a[6].rentalUnitsId,!0),e(T,A),e(T,S),ee&&ee.m(S,null),e(b,de),e(b,Y),e(b,Z),e(b,N),e(N,ae),e(ae,R),e(ae,re),e(ae,$),$.autofocus&&$.focus(),w($,a[6].fullName),e(N,Ne),e(N,V),e(V,te),e(V,we),e(V,j),j.autofocus&&j.focus(),w(j,a[6].phoneNumber),e(N,z),e(N,le),e(le,ue),e(le,M),e(le,O),O.autofocus&&O.focus(),w(O,a[6].email),e(N,tt),e(N,pe),e(pe,C),e(pe,be),e(pe,H),H.autofocus&&H.focus(),w(H,a[6].purposeOfRent),e(N,xe),e(N,ie),e(ie,ve),e(ie,Ie),e(ie,J),J.autofocus&&J.focus(),a[22](J),w(J,a[6].contractStartDate),e(N,ze),e(N,De),e(De,Me),e(De,zt),e(De,ce),ce.autofocus&&ce.focus(),a[25](ce),w(ce,a[6].contractEndDate),e(N,Mt),e(N,Te),e(Te,He),e(Te,Ht),e(Te,me),me.autofocus&&me.focus(),w(me,a[6].durationOfStayInCountry),e(N,Jt),e(N,Ue),e(Ue,Je),e(Ue,Gt),e(Ue,fe),fe.autofocus&&fe.focus(),w(fe,a[6].emergencyContactName),e(N,Kt),e(N,Ae),e(Ae,Ge),e(Ae,Qt),e(Ae,he),he.autofocus&&he.focus(),w(he,a[6].emergencyContactEmail),e(N,Wt),e(N,Le),e(Le,Ke),e(Le,Xt),e(Le,ge),ge.autofocus&&ge.focus(),w(ge,a[6].emergencyContactPhoneNumber),e(N,Yt),e(N,qe),e(qe,Qe),e(qe,Zt),e(qe,_e),_e.autofocus&&_e.focus(),w(_e,a[6].tenantScore),e(b,$t),e(b,it),e(b,ea),e(b,We),e(We,ke),e(We,ta),e(We,Se);for(let K=0;K<D.length;K+=1)D[K]&&D[K].m(Se,null);e(Se,ct),e(Se,Oe),e(Oe,nt),e(Oe,aa),e(Oe,at),e(at,Be),Ga(Xe,Be,null),e(Be,la),e(Be,Ye),e(b,na),e(b,dt),e(b,ra),e(b,Ze),rt=!0,sa||(Sa=[B(g,"change",a[11]),B(g,"change",a[12]),B($,"input",a[18]),B(j,"input",a[19]),B(O,"input",a[20]),B(H,"input",a[21]),B(J,"click",a[23]),B(J,"input",a[24]),B(ce,"click",a[26]),B(ce,"input",a[27]),B(me,"input",a[28]),B(fe,"input",a[29]),B(he,"input",a[30]),B(ge,"input",a[31]),B(_e,"input",a[32]),B(ke,"change",a[33]),Ya(a[8].call(null,b))],sa=!0)},p(t,d){var K;if(d[0]&1){lt=Ft(t[0].rentalUnits);let f;for(f=0;f<lt.length;f+=1){const Ee=Ra(t,lt,f);G[f]?G[f].p(Ee,d):(G[f]=Va(Ee),G[f].c(),G[f].m(g,null))}for(;f<G.length;f+=1)G[f].d(1);G.length=lt.length}if(x(g,Ce=oe(oa,[{required:!0},{name:"rentalUnitsId"},d[0]&32&&t[5].rentalUnitsId,{class:"mt-2 w-[420px] border-[1px] border-black/60 rounded-md p-2"}])),d[0]&32&&"value"in Ce&&(Ce.multiple?Ua:Vt)(g,Ce.value),d[0]&65&&Vt(g,t[6].rentalUnitsId),t[3]?ee?ee.p(t,d):(ee=Fa(t),ee.c(),ee.m(S,null)):ee&&(ee.d(1),ee=null),x($,pt=oe(ua,[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"fullName"},d[0]&32&&t[5].fullName])),d[0]&65&&$.value!==t[6].fullName&&w($,t[6].fullName),x(j,mt=oe(ia,[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"phoneNumber"},d[0]&32&&t[5].phoneNumber])),d[0]&65&&j.value!==t[6].phoneNumber&&w(j,t[6].phoneNumber),x(O,ft=oe(ca,[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"email"},d[0]&32&&t[5].email])),d[0]&65&&O.value!==t[6].email&&w(O,t[6].email),x(H,ht=oe(da,[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"purposeOfRent"},d[0]&32&&t[5].purposeOfRent])),d[0]&65&&H.value!==t[6].purposeOfRent&&w(H,t[6].purposeOfRent),x(J,_t=oe(pa,[{type:"date"},{name:"contractStartDate"},{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2 mt-2"},d[0]&32&&t[5].contractStartDate,{min:je}])),d[0]&65&&w(J,t[6].contractStartDate),x(ce,bt=oe(ma,[{type:"date"},{name:"contractEndDate"},{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2 mt-2"},d[0]&32&&t[5].contractEndDate,(!rt||d[0]&72&&ut!==(ut=t[6].contractStartDate?Oa(new Date(t[6].contractStartDate)).add(((K=t[3])==null?void 0:K.minimumRentalDate)??0,"D").toISOString().substr(0,10):void 0))&&{min:ut}])),d[0]&65&&w(ce,t[6].contractEndDate),x(me,vt=oe(fa,[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"price"},d[0]&32&&t[5].durationOfStayInCountry])),d[0]&65&&me.value!==t[6].durationOfStayInCountry&&w(me,t[6].durationOfStayInCountry),x(fe,gt=oe(ha,[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"emergencyContactName"},d[0]&32&&t[5].emergencyContactName])),d[0]&65&&fe.value!==t[6].emergencyContactName&&w(fe,t[6].emergencyContactName),x(he,Ct=oe(_a,[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{type:"email"},{name:"emergencyContactEmail"},d[0]&32&&t[5].emergencyContactEmail])),d[0]&65&&he.value!==t[6].emergencyContactEmail&&w(he,t[6].emergencyContactEmail),x(ge,Et=oe(ba,[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{type:"tel"},{name:"emergencyContactPhoneNumber"},d[0]&32&&t[5].emergencyContactPhoneNumber])),d[0]&65&&w(ge,t[6].emergencyContactPhoneNumber),x(_e,Nt=oe(va,[{class:"w-[420px] border-[1px] border-black/60 rounded-md p-2"},{required:!0},{name:"tenantScore"},d[0]&32&&t[5].tenantScore])),d[0]&65&&_e.value!==t[6].tenantScore&&w(_e,t[6].tenantScore),d[0]&16){$e=Ft(t[4]);let f;for(f=0;f<$e.length;f+=1){const Ee=Ba(t,$e,f);D[f]?(D[f].p(Ee,d),st(D[f],1)):(D[f]=ja(Ee),D[f].c(),st(D[f],1),D[f].m(Se,ct))}for(ll(),f=$e.length;f<D.length;f+=1)Qa(f);al()}},i(t){if(!rt){for(let d=0;d<$e.length;d+=1)st(D[d]);st(Xe.$$.fragment,t),rt=!0}},o(t){D=D.filter(Boolean);for(let d=0;d<D.length;d+=1)jt(D[d]);jt(Xe.$$.fragment,t),rt=!1},d(t){t&&i(u),Aa(G,t),ee&&ee.d(),a[22](null),a[25](null),Aa(D,t),Ka(Xe),sa=!1,za(Sa)}}}function cl(a,u,s){let I,o,{data:c}=u,{form:_}=u;const{form:v,enhance:q,constraints:b}=nl(c.addTenantForm);La(a,v,E=>s(6,o=E)),La(a,b,E=>s(5,I=E));let T,P,y,Q=[];const W=E=>{s(3,y=E.currentTarget.value)};function g(){o.rentalUnitsId=$a(this),v.set(o),s(0,c)}const k=E=>E.id.toString()===y,X=E=>E.id.toString()===y;function A(){o.priceChange=this.checked,v.set(o),s(0,c)}const S=E=>E.id.toString()===y;function de(){o.newPrice=Ma(this.value),v.set(o),s(0,c)}function Y(){o.fullName=this.value,v.set(o),s(0,c)}function Z(){o.phoneNumber=this.value,v.set(o),s(0,c)}function N(){o.email=this.value,v.set(o),s(0,c)}function ae(){o.purposeOfRent=this.value,v.set(o),s(0,c)}function R(E){qa[E?"unshift":"push"](()=>{T=E,s(1,T)})}const ne=()=>{T&&T.showPicker()};function re(){o.contractStartDate=this.value,v.set(o),s(0,c)}function $(E){qa[E?"unshift":"push"](()=>{P=E,s(2,P)})}const Ne=()=>{P&&P.showPicker()};function V(){o.contractEndDate=this.value,v.set(o),s(0,c)}function te(){o.durationOfStayInCountry=this.value,v.set(o),s(0,c)}function ye(){o.emergencyContactName=this.value,v.set(o),s(0,c)}function we(){o.emergencyContactEmail=this.value,v.set(o),s(0,c)}function j(){o.emergencyContactPhoneNumber=this.value,v.set(o),s(0,c)}function z(){o.tenantScore=this.value,v.set(o),s(0,c)}const le=E=>{const M=E.currentTarget.files;if(M)for(let O=0;O<=(M==null?void 0:M.length);O++)M.item(O)&&s(4,Q=[...Q,M[O].name])},ue=E=>{s(4,Q=Q.filter(M=>M!==E))};return a.$$set=E=>{"data"in E&&s(0,c=E.data),"form"in E&&s(10,_=E.form)},a.$$.update=()=>{a.$$.dirty[0]&1024&&_!=null&&_.addTenant&&rl("/tenants"),a.$$.dirty[0]&1024&&_!=null&&_.addTenant&&sl.push("Tenant added successfully",{theme:{"--toastBacground":"#059669"}})},[c,T,P,y,Q,I,o,v,q,b,_,W,g,k,X,A,S,de,Y,Z,N,ae,R,ne,re,$,Ne,V,te,ye,we,j,z,le,ue]}class El extends el{constructor(u){super(),tl(this,u,cl,il,Wa,{data:0,form:10},null,[-1,-1])}}export{El as component};
