import{s as F,e as d,a as $,c as m,b as P,f as y,g as T,l as A,p as i,i as X,h as t,u as N,y as q,B as G}from"../chunks/scheduler.be341df6.js";import{S as J,i as K,c as Q,a as W,m as Y,t as Z,d as tt,e as et}from"../chunks/index.d2fb6592.js";import{L as at}from"../chunks/Logo.svg.0cb9802c.js";import{b as nt}from"../chunks/paths.17cc3ada.js";async function st(c,a,e){const{callbackUrl:u=window.location.href,redirect:n=!0}=a??{},p=c==="credentials",x=p||c==="email",_=nt??"",o=`${`${_}/auth/${p?"callback":"signin"}/${c}`}?${new URLSearchParams(e)}`,g=await fetch(`${_}/auth/csrf`),{csrfToken:k}=await g.json(),C=await fetch(o,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...a,csrfToken:k,callbackUrl:u})}),r=await C.clone().json();if(n||!x){window.location.href=r.url??u,r.url.includes("#")&&window.location.reload();return}return C}function rt(c){let a,e,u,n,p,h,x='<p class="text-xl font-semibold">Login</p> <p class="text-sm text-subtitle pt-2">Login to you company account</p>',_,s,o,g,k="Email",C,r,j,v,L,M="Password",B,f,D,b,H="Login",I,V,O;return n=new at({}),{c(){a=d("div"),e=d("div"),u=d("div"),Q(n.$$.fragment),p=$(),h=d("div"),h.innerHTML=x,_=$(),s=d("form"),o=d("label"),g=d("span"),g.textContent=k,C=$(),r=d("input"),j=$(),v=d("label"),L=d("span"),L.textContent=M,B=$(),f=d("input"),D=$(),b=d("button"),b.textContent=H,this.h()},l(l){a=m(l,"DIV",{class:!0});var w=P(a);e=m(w,"DIV",{class:!0});var E=P(e);u=m(E,"DIV",{class:!0});var z=P(u);W(n.$$.fragment,z),z.forEach(y),p=T(E),h=m(E,"DIV",{"data-svelte-h":!0}),A(h)!=="svelte-vmxnto"&&(h.innerHTML=x),_=T(E),s=m(E,"FORM",{class:!0});var U=P(s);o=m(U,"LABEL",{class:!0});var R=P(o);g=m(R,"SPAN",{"data-svelte-h":!0}),A(g)!=="svelte-1s7u0iy"&&(g.textContent=k),C=T(R),r=m(R,"INPUT",{class:!0,name:!0,type:!0}),R.forEach(y),j=T(U),v=m(U,"LABEL",{class:!0});var S=P(v);L=m(S,"SPAN",{"data-svelte-h":!0}),A(L)!=="svelte-1pvl1h1"&&(L.textContent=M),B=T(S),f=m(S,"INPUT",{class:!0,type:!0,name:!0}),S.forEach(y),D=T(U),b=m(U,"BUTTON",{class:!0,"data-svelte-h":!0}),A(b)!=="svelte-kz1w7r"&&(b.textContent=H),U.forEach(y),E.forEach(y),w.forEach(y),this.h()},h(){i(u,"class","grid justify-center mb-6"),r.required=!0,i(r,"class","w-[420px] border-[1px] border-black/60 rounded-md p-2 mt-2"),i(r,"name","email"),i(r,"type","email"),i(o,"class","grid"),f.required=!0,i(f,"class","w-[420px] border-[1px] border-black/60 rounded-md p-2 mt-2"),i(f,"type","password"),i(f,"name","password"),i(v,"class","grid"),i(b,"class","bg-primary w-full text-white rounded-md py-2"),i(s,"class","grid gap-6 mt-6"),i(e,"class","bg-white p-6"),i(a,"class","bg-ghost h-screen w-full grid items-center justify-center")},m(l,w){X(l,a,w),t(a,e),t(e,u),Y(n,u,null),t(e,p),t(e,h),t(e,_),t(e,s),t(s,o),t(o,g),t(o,C),t(o,r),N(r,c[0]),t(s,j),t(s,v),t(v,L),t(v,B),t(v,f),N(f,c[1]),t(s,D),t(s,b),I=!0,V||(O=[q(r,"input",c[4]),q(f,"input",c[5]),q(s,"submit",c[6])],V=!0)},p(l,[w]){w&1&&r.value!==l[0]&&N(r,l[0]),w&2&&f.value!==l[1]&&N(f,l[1])},i(l){I||(Z(n.$$.fragment,l),I=!0)},o(l){tt(n.$$.fragment,l),I=!1},d(l){l&&y(a),et(n),V=!1,G(O)}}}function lt(c,a,e){let{data:u}=a,n,p;const h=async()=>{await st("credentials",{callbackUrl:"/",email:n,password:p})};function x(){n=this.value,e(0,n)}function _(){p=this.value,e(1,p)}const s=()=>h();return c.$$set=o=>{"data"in o&&e(3,u=o.data)},[n,p,h,u,x,_,s]}class dt extends J{constructor(a){super(),K(this,a,lt,rt,F,{data:3})}}export{dt as component};
