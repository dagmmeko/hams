import{s as q,e as h,c as x,b as v,f as b,p as u,i as R,h as p,y as F,G,z as X,B as J,a as C,t as Y,l as z,g as O,d as Z,k as ee}from"../chunks/scheduler.be341df6.js";import{S as K,i as Q,g as te,d as T,b as re,t as N,c as D,a as S,m as E,e as I}from"../chunks/index.d2fb6592.js";import{F as se}from"../chunks/filters-lines.svg.03ce1a37.js";import{p as ae}from"../chunks/stores.f92608b4.js";import{D as W}from"../chunks/delete.svg.6dcef649.js";import{t as le}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.34936dee.js";import{s as oe}from"../chunks/index.655df6de.js";import{S as ne}from"../chunks/SvelteTable.a6863e2e.js";import{g as H}from"../chunks/navigation.e609b1a8.js";function ie(i){let e,t,r,n,c,s;return r=new W({props:{class:"text-danger"}}),{c(){e=h("form"),t=h("button"),D(r.$$.fragment),this.h()},l(a){e=x(a,"FORM",{method:!0,action:!0});var o=v(e);t=x(o,"BUTTON",{});var d=v(t);S(r.$$.fragment,d),d.forEach(b),o.forEach(b),this.h()},h(){u(e,"method","post"),u(e,"action","?/archiveUnit")},m(a,o){R(a,e,o),p(e,t),E(r,t,null),n=!0,c||(s=[F(t,"click",G(ue)),X(i[1].call(null,e))],c=!0)},i(a){n||(N(r.$$.fragment,a),n=!0)},o(a){T(r.$$.fragment,a),n=!1},d(a){a&&b(e),I(r),c=!1,J(s)}}}function de(i){let e,t,r,n,c;return t=new W({props:{class:"text-subtitle"}}),{c(){e=h("button"),D(t.$$.fragment)},l(s){e=x(s,"BUTTON",{});var a=v(e);S(t.$$.fragment,a),a.forEach(b)},m(s,a){R(s,e,a),E(t,e,null),r=!0,n||(c=F(e,"click",G(i[3])),n=!0)},i(s){r||(N(t.$$.fragment,s),r=!0)},o(s){T(t.$$.fragment,s),r=!1},d(s){s&&b(e),I(t),n=!1,c()}}}function ce(i){let e,t,r,n;const c=[de,ie],s=[];function a(o,d){return o[0].TenantRental.length>0&&o[0].TenantRental[0].Tenant.active?0:1}return t=a(i),r=s[t]=c[t](i),{c(){e=h("div"),r.c(),this.h()},l(o){e=x(o,"DIV",{class:!0});var d=v(e);r.l(d),d.forEach(b),this.h()},h(){u(e,"class","")},m(o,d){R(o,e,d),s[t].m(e,null),n=!0},p(o,[d]){let f=t;t=a(o),t!==f&&(te(),T(s[f],1,1,()=>{s[f]=null}),re(),r=s[t],r||(r=s[t]=c[t](o),r.c()),N(r,1),r.m(e,null))},i(o){n||(N(r),n=!0)},o(o){T(r),n=!1},d(o){o&&b(e),s[t].d()}}}const ue=()=>{};function me(i,e,t){let{row:r}=e,{data:n}=e;const{enhance:c}=oe(n.deleteUnitForm,{onSubmit:({formData:a,cancel:o})=>{window.confirm("Are you sure you want to delete this Unit?")||o(),a.set("deleteUnitId",r.id)}}),s=()=>le.push("Can not delete a Unit with Tenant in it.");return i.$$set=a=>{"row"in a&&t(0,r=a.row),"data"in a&&t(2,n=a.data)},[r,c,n,s]}class fe extends K{constructor(e){super(),Q(this,e,me,ce,q,{row:0,data:2})}}function pe(i){let e,t,r,n='<p class="text-lg">Rental Units</p> <p class="bg-[#F9F5FF] text-xs rounded-xl p-2">100 Units</p>',c,s,a="New Rental Unit",o,d,f,l,y,V,k,_,A,B,U,L,M;return l=new se({props:{class:"h-4 w-4"}}),B=new ne({props:{classNameTable:"rolesTable",columns:i[1],rows:i[2]}}),B.$on("clickCell",i[7]),{c(){e=h("div"),t=h("div"),r=h("div"),r.innerHTML=n,c=C(),s=h("a"),s.textContent=a,o=C(),d=h("div"),f=h("button"),D(l.$$.fragment),y=Y(" Add filters"),V=C(),k=h("label"),_=h("input"),A=C(),D(B.$$.fragment),this.h()},l(m){e=x(m,"DIV",{class:!0});var g=v(e);t=x(g,"DIV",{class:!0});var w=v(t);r=x(w,"DIV",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-1ej7x47"&&(r.innerHTML=n),c=O(w),s=x(w,"A",{href:!0,class:!0,"data-svelte-h":!0}),z(s)!=="svelte-65cl7r"&&(s.textContent=a),w.forEach(b),o=O(g),d=x(g,"DIV",{class:!0});var $=v(d);f=x($,"BUTTON",{class:!0});var P=v(f);S(l.$$.fragment,P),y=Z(P," Add filters"),P.forEach(b),V=O($),k=x($,"LABEL",{class:!0});var j=v(k);_=x(j,"INPUT",{placeholder:!0,class:!0,type:!0,id:!0,name:!0}),j.forEach(b),$.forEach(b),A=O(g),S(B.$$.fragment,g),g.forEach(b),this.h()},h(){u(r,"class","flex space-x-4"),u(s,"href","/rental-units/add-unit"),u(s,"class","bg-primary text-white rounded-md py-2 px-6"),u(t,"class","flex justify-between p-6"),u(f,"class","grid grid-flow-col items-center py-2 px-4 rounded-md gap-2 text-sm shadow-md bg-white"),u(_,"placeholder","Search"),u(_,"class","w-[420px] border-[1px] border-black/60 rounded-md p-2"),u(_,"type","search"),u(_,"id","search"),u(_,"name","search"),u(k,"class","grid"),u(d,"class","bg-ghost/60 p-6 flex justify-between"),u(e,"class","mx-10 my-12 bg-white rounded-sm shadow-md border-[1px] border-black/20")},m(m,g){R(m,e,g),p(e,t),p(t,r),p(t,c),p(t,s),p(e,o),p(e,d),p(d,f),E(l,f,null),p(f,y),p(d,V),p(d,k),p(k,_),p(e,A),E(B,e,null),U=!0,L||(M=[F(s,"click",i[5]),F(_,"change",i[6])],L=!0)},p(m,[g]){const w={};g&2&&(w.columns=m[1]),g&4&&(w.rows=m[2]),B.$set(w)},i(m){U||(N(l.$$.fragment,m),N(B.$$.fragment,m),U=!0)},o(m){T(l.$$.fragment,m),T(B.$$.fragment,m),U=!1},d(m){m&&b(e),I(l),I(B),L=!1,J(M)}}}function be(i,e,t){let r,n,c;ee(i,ae,l=>t(3,c=l));let{data:s}=e,a=!1;const o=()=>t(0,a=!0),d=async l=>{const y=new URLSearchParams(c.url.search);y.set("search",l.currentTarget.value),await H(`?${y.toString()}`)},f=l=>{const y=l.detail.row.id;H(`/rental-units/${y}`)};return i.$$set=l=>{"data"in l&&t(4,s=l.data)},i.$$.update=()=>{i.$$.dirty&16&&t(2,r=s.units),i.$$.dirty&16&&t(1,n=[{key:"roomNo",title:"Room Number",value:l=>l.roomNumber??"NOT FOUND",headerClass:"text-left pl-2 bg-ghost/60 border-b-[1px] border-[#B3B4B8] text-[#141B29] font-medium text-sm h-12",class:"text-left pl-2 h-12 border-b-[1px] border-[#B3B4B8]"},{key:"floor",title:"Floor",value:l=>l.floor??"NOT FOUND",headerClass:"text-left pl-2 bg-ghost/60 border-b-[1px] border-[#B3B4B8] text-[#141B29] font-medium text-sm h-12",class:"text-left pl-2 h-12 border-b-[1px] border-[#B3B4B8]"},{key:"status",title:"Status",value:l=>l.active?"Occupied":"Vacant",headerClass:"text-left pl-2 bg-ghost/60 border-b-[1px] border-[#B3B4B8] text-[#141B29] font-medium text-sm h-12",class:"text-left pl-2 h-12 border-b-[1px] border-[#B3B4B8]"},{key:"condition",title:"Condition",value:l=>l.Inspection[0].InspectionStatus??"NOT FOUND",headerClass:"text-left pl-2 bg-ghost/60 border-b-[1px] border-[#B3B4B8] text-[#141B29] font-medium text-sm h-12",class:"text-left pl-2 h-12 border-b-[1px] border-[#B3B4B8]"},{key:"unitType",title:"Unit Type",value:l=>l.unitType??"NOT FOUND",headerClass:"text-left pl-2 bg-ghost/60 border-b-[1px] border-[#B3B4B8] text-[#141B29] font-medium text-sm h-12",class:"text-left pl-2 h-12 border-b-[1px] border-[#B3B4B8]"},{key:"size",title:"Size",value:l=>l.kareMeter??"NOT FOUND",headerClass:"text-left pl-2 bg-ghost/60 border-b-[1px] border-[#B3B4B8] text-[#141B29] font-medium text-sm h-12",class:"text-left pl-2 h-12 border-b-[1px] border-[#B3B4B8]"},{key:"price",title:"Price",value:l=>l.price??"NOT FOUND",headerClass:"text-left pl-2 bg-ghost/60 border-b-[1px] border-[#B3B4B8] text-[#141B29] font-medium text-sm h-12",class:"text-left pl-2 h-12 border-b-[1px] border-[#B3B4B8]"},{key:"second",title:"",renderComponent:{component:fe,props:{data:s}},headerClass:"text-left pl-2 bg-ghost/60 border-b-[1px] border-[#B3B4B8] text-[#141B29] font-medium text-sm h-12",class:"text-left pl-2 h-12 border-b-[1px] border-[#B3B4B8]"}])},[a,n,r,c,s,o,d,f]}class Te extends K{constructor(e){super(),Q(this,e,be,pe,q,{data:4})}}export{Te as component};
